<html>
    <head>
        <meta charset="utf-8" name="viewport" content="width=device-width,user-scalable=no">
		<style>
			body { background: black; margin: 0; }
			svg {
                position: absolute;
				width: 100vmin;
				height: 100vmin;
				margin: auto;
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
			}
		</style>
        <script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
        <script type="text/javascript" src="js/chance.min.js"></script>
        <script type="text/javascript" src="js/snap.svg-min.js"></script>
        <script type="text/javascript" src="js/accessibility.js"></script>
        <script type="text/javascript" src="js/game.js"></script>
    </head>
    <body>
        <svg viewbox='0 0 100 100'></svg>
        <script>

            function setupOptions() {
                optionsIcon.attr({
                    'width': 8,
                    'height': 8,
                    'x': 4,
                    'y': 4,
                });
                eve.on( 'updateColourScheme', function( scheme ) {
                    var subScheme = getSubScheme( scheme, 'icon' );
                    optionsIcon.data( 'subScheme', subScheme );
                    optionsIcon.select( 'path' ).attr( subScheme.normal );
                    optionsIcon.mouseover(function() {
                        this.select( 'path' ).attr( this.data( 'subScheme' ).hover );
                    }).mouseout( function() {
                        this.select( 'path' ).attr( this.data( 'subScheme' ).normal );
                    });
                });
            }

            var s, optionsIcon, game;
            $().ready( function() {
                s = Snap( "svg" );
                Snap.load( "img/cog.svg", function( data ) {
                    var q = s.add( data )
                    optionsIcon = s.select( "svg:last-child" );
                    game = new SimpleHexSweeper( s, 6, 0.25 );
                    setupOptions();
                    eve( "updateColourScheme", "self", colourScheme );
                });
            }); 
        </script>
	</body>
</html>
